/*

TABGuard v1.0

jQuery UI Tabbing plugin.
http://spirytoos.blogspot.com

Copyright (c) 2013 Tomasz Egiert

https://github.com/spirytoos/TABGuard/blob/master/LICENSE.md

Project site: http://tomaszegiert.seowebsolutions.com.au/tabguard/index.htm
Github site: https://github.com/spirytoos

 */
 
(function($){$.fn.tabGuard=function(options){return this.each(function(){var isFirstInFocus=false;var isLastInFocus=false;$(this).keyup(function(e){if($(this).find(":focus")){if(e.keyCode==9){if($(this).find(':tabbable:first:focus').length){isFirstInFocus=true}else if($(this).find(':tabbable:last:focus').length){isLastInFocus=true}console.log(isFirstInFocus+" .... "+isLastInFocus)}}})$(this).keydown(function(e){if($(this).find(":focus")){if(e.keyCode==9){var tabbables=$(this).find(':tabbable'),first=tabbables.filter(':first'),last=tabbables.filter(':last');if(e.shiftKey){if(isFirstInFocus){last.focus(1);isFirstInFocus=false;isLastInFocus=true;return false}else if(e.target===first[0]){isFirstInFocus=true;isLastInFocus=false;return false}else{isFirstInFocus=false;isLastInFocus=false}}else{if(isLastInFocus){first.focus(1);isFirstInFocus=true;isLastInFocus=false;return false}else if(e.target===last[0]){isLastInFocus=true;isFirstInFocus=false;return false}else{isFirstInFocus=false;isLastInFocus=false}}}}})})}})(jQuery);